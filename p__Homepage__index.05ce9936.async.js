"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[666],{35740:function(le,$,a){a.r($),a.d($,{default:function(){return te}});var i=a(29102),Z=a(11281),c=a.n(Z),S=a(12812),L=a.n(S),H=a(12741),F=a.n(H),M=a(97983),o=a.n(M),V=a(40794),h=a.n(V),d=a(63154),p=a(30028);function z(r){return b.apply(this,arguments)}function b(){return b=h()(o()().mark(function r(u){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/seller/api/teachers/getAllTeachersByConditionsWithTotal?clientId=385",{params:u}).then(function(l){return{data:(0,d.we)(l.teacherList),total:l.totalNum}}));case 1:case"end":return e.stop()}},r)})),b.apply(this,arguments)}function J(){return U.apply(this,arguments)}function U(){return U=h()(o()().mark(function r(){return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.request)("/seller/api/homepages?clientId.equals=385").then(function(e){var l=F()(e,1),t=l[0];return c()(c()({},t),{},{aboutUsImgUrl:[{url:t.aboutUsImgUrl}],consultUrl:[{url:t.consultUrl}],coverUrl:[{url:t.coverUrl}]})}));case 1:case"end":return s.stop()}},r)})),U.apply(this,arguments)}function O(r){return x.apply(this,arguments)}function x(){return x=h()(o()().mark(function r(u){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/seller/api/homepages/update",{method:"post",data:u}));case 1:case"end":return e.stop()}},r)})),x.apply(this,arguments)}function W(r){return j.apply(this,arguments)}function j(){return j=h()(o()().mark(function r(u){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/seller/api/teachers/".concat(u)).then(function(l){return c()(c()({},l),{},{avatarUrl:[{url:l.avatarUrl}]})}));case 1:case"end":return e.stop()}},r)})),j.apply(this,arguments)}function k(r){return E.apply(this,arguments)}function E(){return E=h()(o()().mark(function r(u){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/seller/api/teachers/update",{method:"post",data:u}));case 1:case"end":return e.stop()}},r)})),E.apply(this,arguments)}function Q(r){return B.apply(this,arguments)}function B(){return B=h()(o()().mark(function r(u){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/seller/api/teachers",{method:"post",data:u}));case 1:case"end":return e.stop()}},r)})),B.apply(this,arguments)}function G(r){return I.apply(this,arguments)}function I(){return I=h()(o()().mark(function r(u){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/seller/api/teachers/".concat(u),{method:"delete"}));case 1:case"end":return e.stop()}},r)})),I.apply(this,arguments)}var C=a(81579),T=a(12461),n=a(85893),N=function(){var r=C.Z.useForm(),u=F()(r,1),s=u[0],e=function(t,f){(0,d.Wi)(t).then(function(m){s.setFieldsValue(L()({},f,[Object.assign(t,{url:"https://ssl.cdn.maodouketang.com/".concat(m.key)})]))})};return(0,n.jsxs)(i.A96,{form:s,onFinish:function(t){return O(c()(c()({},t),{},{aboutUsImgUrl:t.aboutUsImgUrl[0].url,consultUrl:t.consultUrl[0].url,coverUrl:t.coverUrl[0].url})).then(function(){T.ZP.success("\u4FDD\u5B58\u6210\u529F")})},request:J,labelCol:8,layout:"horizontal",style:{marginTop:20},grid:!0,children:[(0,n.jsx)(i.$JJ,{name:"aboutUsInfo",label:"\u673A\u6784\u4ECB\u7ECD",colProps:{md:24,xl:24},required:!0,placeholder:"\u8BF7\u8F93\u5165",labelCol:{span:2},fieldProps:{maxLength:300,showCount:!0,rows:10},rules:d.n0}),(0,n.jsx)(i.rCM,{name:"aboutUsImgUrl",label:"\u673A\u6784\u4ECB\u7ECD\u56FE\u7247",max:1,required:!0,fieldProps:{name:"file",listType:"picture-card"},labelCol:{span:2},rules:d.n0,action:function(t){return e(t,"aboutUsImgUrl")},extra:"\u5EFA\u8BAE\u56FE\u7247\u6BD4\u4F8B\u4E3A16:9"}),(0,n.jsx)(i.rCM,{name:"consultUrl",label:"\u673A\u6784Logo",max:1,required:!0,fieldProps:{name:"file",listType:"picture-card"},labelCol:{span:2},rules:d.n0,action:function(t){return e(t,"consultUrl")},extra:"\u5EFA\u8BAE\u56FE\u7247\u6BD4\u4F8B\u4E3A16:9"}),(0,n.jsx)(i.rCM,{name:"coverUrl",label:"\u5C01\u9762\u56FE",max:1,required:!0,fieldProps:{name:"file",listType:"picture-card"},labelCol:{span:2},rules:d.n0,action:function(t){return e(t,"coverUrl")},extra:"\u5EFA\u8BAE\u56FE\u7247\u6BD4\u4F8B\u4E3A16:9"}),(0,n.jsx)(i.VaQ,{name:"icpInfo",label:"\u4E00\u53E5\u8BDD\u7B80\u4ECB",labelCol:{span:2},required:!0,placeholder:"\u8BF7\u8F93\u5165",rules:d.n0}),(0,n.jsx)(C.Z.Item,{name:"id",noStyle:!0})]})},K=a(24969),P=a(71577),X=a(65360),A=a(67294),Y=a(97548),q=a.n(Y),w=a(96486),_=["id","handleClose","tableReload"],ee=function(r){var u=r.id,s=r.handleClose,e=r.tableReload,l=q()(r,_),t=C.Z.useForm(),f=F()(t,1),m=f[0];(0,A.useEffect)(function(){(0,w.isUndefined)(u)||!l.visible||W(u).then(m.setFieldsValue)},[u,l.visible]);var ae=function(){var D=h()(o()().mark(function g(v){var R;return o()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return R=c()(c()({tag:"star",clientId:"385"},v),{},{avatarUrl:v.avatarUrl[0].url}),y.abrupt("return",((0,w.isUndefined)(u)?Q:k)(R).then(function(){T.ZP.success("\u4FDD\u5B58\u6210\u529F"),s(),e()}));case 2:case"end":return y.stop()}},g)}));return function(v){return D.apply(this,arguments)}}(),ue=function(g){(0,d.Wi)(g).then(function(v){m.setFieldsValue({avatarUrl:[Object.assign(g,{url:"https://ssl.cdn.maodouketang.com/".concat(v.key)})]})})};return(0,n.jsxs)(i.aN,c()(c()({},l),{},{form:m,drawerProps:{maskClosable:!1,onClose:s,destroyOnClose:!0},title:(0,w.isUndefined)(u)?"\u6DFB\u52A0\u6559\u5E08":"\u7F16\u8F91\u6559\u5E08",grid:!0,width:"35%",layout:"horizontal",onFinish:ae,children:[(0,n.jsx)(i.VaQ,{name:"name",label:"\u59D3\u540D",labelCol:{span:4},required:!0,placeholder:"\u8BF7\u8F93\u5165",rules:d.n0}),(0,n.jsx)(i.$JJ,{name:"info",label:"\u6559\u5E08\u4ECB\u7ECD",required:!0,placeholder:"\u8BF7\u8F93\u5165",labelCol:{span:4},fieldProps:{maxLength:110,showCount:!0},rules:d.n0}),(0,n.jsx)(i.k_F,{name:"coursesCount",label:"\u8BFE\u7A0B\u6570",required:!0,labelCol:{span:4},placeholder:"\u8BF7\u8F93\u5165",rules:d.n0}),(0,n.jsx)(i.k_F,{name:"studentsCount",label:"\u5B66\u751F\u6570",required:!0,labelCol:{span:4},placeholder:"\u8BF7\u8F93\u5165",rules:d.n0}),(0,n.jsx)(i.rCM,{name:"avatarUrl",label:"\u6559\u5E08\u5934\u50CF",max:1,required:!0,labelCol:{span:4},fieldProps:{name:"file",listType:"picture-card"},rules:d.n0,action:ue,extra:"\u5EFA\u8BAE\u56FE\u7247\u6BD4\u4F8B\u4E3A1:1"}),(0,n.jsx)(C.Z.Item,{name:"id",noStyle:!0})]}))},re=function(u,s){return[{title:"\u5E8F\u53F7",dataIndex:"index",align:"center",width:80},{title:"\u59D3\u540D",dataIndex:"name"},{title:"\u6559\u5E08\u4ECB\u7ECD",dataIndex:"info",width:200,ellipsis:!0},{title:"\u8BFE\u7A0B\u6570",dataIndex:"coursesCount",align:"center",width:80},{title:"\u5B66\u751F\u6570",dataIndex:"studentsCount",align:"center",width:80},{title:"\u6559\u5E08\u5934\u50CF",dataIndex:"avatarUrl",align:"center",width:80,valueType:"image"},{title:"\u64CD\u4F5C",dataIndex:"action",align:"center",width:160,render:function(l,t){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P.Z,{onClick:function(){return u({visible:!0,id:t.id})},size:"small",type:"link",children:"\u7F16\u8F91"}),(0,n.jsx)(X.Z,{title:"\u786E\u5B9A\u5220\u9664?",onConfirm:function(){return G(t.id).then(function(){s.current.reload(),T.ZP.success("\u64CD\u4F5C\u6210\u529F")})},children:(0,n.jsx)(P.Z,{size:"small",type:"link",danger:!0,children:"\u5220\u9664"})})]})}}].map(function(e){return c()({search:!1,width:120},e)})},ne=function(){var r=(0,A.useState)({visible:!1}),u=F()(r,2),s=u[0],e=u[1],l=(0,A.useRef)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.QVr,{actionRef:l,pagination:null,rowKey:"id",columns:re(e,l),search:!1,toolBarRender:function(){return(0,n.jsx)(P.Z,{onClick:function(){return e({visible:!0})},type:"primary",icon:(0,n.jsx)(K.Z,{}),children:"\u65B0\u589E"})},request:z,scroll:{y:510}}),(0,n.jsx)(ee,c()(c()({},s),{},{tableReload:function(){return l.current.reload()},handleClose:function(){return e({visible:!1})}}))]})},te=function(){return(0,n.jsx)(i._zJ,{tabList:[{tab:"\u673A\u6784\u9996\u9875",key:"orgHomepage",children:(0,n.jsx)(N,{})},{tab:"\u6388\u8BFE\u540D\u5E08",key:"teacher",children:(0,n.jsx)(ne,{})}]})}}}]);
